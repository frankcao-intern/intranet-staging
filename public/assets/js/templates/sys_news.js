
(function($){'use strict';var Engine={search:function(){$("#byDate").mask("99-9999").keypress(function(e){if(e.keyCode===13){$("#btnByDate").click();}
return false;});$("#btnByDate").click(function(){document.location=siteRoot+"news/"+pageID+"/"+$("#byDate").val();return false;});},sorting:function(){var url=String(document.location);url=url.replace(RegExp('https?:'+siteRoot),'');url=url.split('/');$(".sort-link.recent").addClass(!url[3]?'disabled':'').click(function(){if(url[3]){document.location=siteRoot+"news/"+pageID+"/"+(url[2]||"");}else{return false;}});$(".sort-link.popular").addClass((url[3]==='page_views')?'disabled':'').click(function(){var month=$('.header-a span.month').text(),year=$('.header-a span.year').text(),date;if(url[3]==='page_views'){return false;}
date=new Date('01 '+month+' '+year);date=(date.getMonth()+1)+"-"+date.getFullYear();document.location=siteRoot+"news/"+pageID+"/"+date+"/page_views";return false;});$(".sort-link.comments").addClass((url[3]==='comments_count')?'disabled':'').click(function(){var month=$('.header-a span.month').text(),year=$('.header-a span.year').text(),date;if(url[3]==='comments_count'){return false;}
date=new Date('01 '+month+' '+year);date=(date.getMonth()+1)+"-"+date.getFullYear();document.location=siteRoot+"news/"+pageID+"/"+date+"/comments_count";return false;});$(".sort-links").trigger('mouseleave');}};$(document).ready(function(){Engine.search();Engine.sorting();});}(jQuery));