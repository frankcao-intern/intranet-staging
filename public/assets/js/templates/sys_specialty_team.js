
require(['jquery','lib/usmap'],function($){"use strict";require(['shared/team_pages','lib/raphael.scale'],function(teamPages){var Engine={map:'',usMap:function(){var paper,pageWidth=532,mapWidth=934,mapHeight=594,state,hoverIn,hoverOut,timeout;if($('#usMap').length>0){paper=new ScaleRaphael('usMap',mapWidth,mapHeight);this.map=paper.USMap();paper.scaleAll(pageWidth/mapWidth);hoverIn=function(){var that=this;clearTimeout(timeout);timeout=window.setTimeout(function(){$('.state-store-list').hide();$('#'+that.data('state').toUpperCase()).show().jScrollPane();that.colorFill();},200);};hoverOut=function(){clearTimeout(timeout);this.grayFill();};for(state in this.map.drawnStates){if(this.map.drawnStates.hasOwnProperty(state)){this.map.drawnStates[state][0].style.cursor="pointer";this.map.drawnStates[state].hover(hoverIn,hoverOut);}}}},plotCities:function(){var stores=$('#usMapTab').find('li'),i;for(i=0;i<stores.length;i++){this.map.plot($(stores[i]).data('lat'),$(stores[i]).data('long'));}}};$(document).ready(function(){teamPages.calendar();teamPages.tabs();Engine.usMap();Engine.plotCities();teamPages.hashes();});});});